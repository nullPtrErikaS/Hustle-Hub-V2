{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///home/esy/hustlehub/frontend/src/pages/login.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n  \n    try {\n      const response = await fetch(\"http://localhost:8000/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: new URLSearchParams({\n          email: email,\n          password: password,\n        }),\n        credentials: \"include\",\n      });\n  \n      console.log(\"response.status\", response.status);  \n      console.log(\"response.headers\", response.headers); \n  \n      const data = await response.json().catch(err => {\n        console.error(\"JSON parsing error:\", err);\n        return null;\n      });\n  \n      console.log(\"data\", data); \n  \n      if (response.ok && data) {\n        localStorage.setItem(\"access_token\", data.access_token);\n        router.push(\"/dashboard\");\n      } else {\n        setError(data?.detail || \"Login failed\");\n      }\n    } catch (err) {\n      console.error(\"fetch error:\", err);\n      setError(\"An error occurred. Try again.\");\n    }\n  };  \n\n  return (\n    <div style={{ maxWidth: \"400px\", margin: \"auto\", paddingTop: \"100px\" }}>\n      <h1>Login</h1>\n      <form onSubmit={handleLogin}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          style={{ display: \"block\", marginBottom: \"10px\", width: \"100%\" }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          style={{ display: \"block\", marginBottom: \"10px\", width: \"100%\" }}\n        />\n        <button type=\"submit\" style={{ width: \"100%\" }}>\n          Login\n        </button>\n      </form>\n      {error && <p style={{ color: \"red\", marginTop: \"10px\" }}>{error}</p>}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,oCAAoC;gBAC/D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAoC;gBAC/D,MAAM,IAAI,gBAAgB;oBACxB,OAAO;oBACP,UAAU;gBACZ;gBACA,aAAa;YACf;YAEA,QAAQ,GAAG,CAAC,mBAAmB,SAAS,MAAM;YAC9C,QAAQ,GAAG,CAAC,oBAAoB,SAAS,OAAO;YAEhD,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,CAAA;gBACvC,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,OAAO;YACT;YAEA,QAAQ,GAAG,CAAC,QAAQ;YAEpB,IAAI,SAAS,EAAE,IAAI,MAAM;gBACvB,aAAa,OAAO,CAAC,gBAAgB,KAAK,YAAY;gBACtD,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,SAAS,MAAM,UAAU;YAC3B;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,SAAS;QACX;IACF;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,UAAU;YAAS,QAAQ;YAAQ,YAAY;QAAQ;;0BACnE,qKAAC;0BAAG;;;;;;0BACJ,qKAAC;gBAAK,UAAU;;kCACd,qKAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;wBACR,OAAO;4BAAE,SAAS;4BAAS,cAAc;4BAAQ,OAAO;wBAAO;;;;;;kCAEjE,qKAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,QAAQ;wBACR,OAAO;4BAAE,SAAS;4BAAS,cAAc;4BAAQ,OAAO;wBAAO;;;;;;kCAEjE,qKAAC;wBAAO,MAAK;wBAAS,OAAO;4BAAE,OAAO;wBAAO;kCAAG;;;;;;;;;;;;YAIjD,uBAAS,qKAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAO,WAAW;gBAAO;0BAAI;;;;;;;;;;;;AAGhE","debugId":null}}]
}